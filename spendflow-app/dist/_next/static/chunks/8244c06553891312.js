(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50692,e=>{"use strict";var s=e.i(52621),a=e.i(82078),t=e.i(39616),l=e.i(63488),i=e.i(98919),n=e.i(58041),m=e.i(45423);let r=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var c=e.i(88368);e.i(75271);var d=e.i(5158),o=e.i(89566);function x(){let[e,x]=(0,a.useState)({appName:"SpendFlow",adminEmail:"spendflowapp@gmail.com",maintenanceMode:!1,registrationEnabled:!0,emailNotifications:!0,dataRetentionDays:90,sessionTimeout:30,maxLoginAttempts:5,enable2FA:!0,enableAuditLogs:!0,enableAPIAccess:!1,backupFrequency:"daily",fromEmail:"spendflowapp@gmail.com"}),[h,b]=(0,a.useState)(!1),[u,g]=(0,a.useState)("general");(0,a.useEffect)(()=>{(async()=>{try{let e=(0,d.doc)(o.db,"settings","app"),s=await (0,d.getDoc)(e);if(s.exists()){let e=s.data();console.log("Loading saved settings:",e);let a={appName:"SpendFlow",adminEmail:"spendflowapp@gmail.com",maintenanceMode:!1,registrationEnabled:!0,emailNotifications:!0,dataRetentionDays:90,sessionTimeout:30,maxLoginAttempts:5,enable2FA:!0,enableAuditLogs:!0,enableAPIAccess:!1,backupFrequency:"daily",fromEmail:"spendflowapp@gmail.com",...e};console.log("Merged settings:",a),x(a)}else console.log("No saved settings found, using defaults")}catch(e){console.error("Error loading settings:",e)}})()},[]);let p=e=>{let{name:s,value:a,type:t}=e.target;x(l=>({...l,[s]:"checkbox"===t?e.target.checked:a}))},f=async()=>{try{b(!0);let s=(0,d.doc)(o.db,"settings","app");await (0,d.setDoc)(s,{...e,updatedAt:(0,d.serverTimestamp)(),updatedBy:"admin"},{merge:!0}),c.toast.success("Settings saved successfully")}catch(e){console.error("Error saving settings:",e),c.toast.error("Failed to save settings")}finally{b(!1)}},N=[{id:"general",label:"General",icon:(0,s.jsx)(t.Settings,{className:"h-4 w-4"})},{id:"security",label:"Security",icon:(0,s.jsx)(i.Shield,{className:"h-4 w-4"})},{id:"notifications",label:"Notifications",icon:(0,s.jsx)(m.Bell,{className:"h-4 w-4"})},{id:"email",label:"Email",icon:(0,s.jsx)(l.Mail,{className:"h-4 w-4"})},{id:"backup",label:"Backup & Restore",icon:(0,s.jsx)(n.Database,{className:"h-4 w-4"})}];return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Admin Settings"}),(0,s.jsx)("button",{onClick:f,disabled:h,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Saving...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r,{className:"-ml-1 mr-2 h-4 w-4"}),"Save Changes"]})})]}),(0,s.jsxs)("div",{className:"bg-slate-800 rounded-lg shadow",children:[(0,s.jsx)("div",{className:"border-b border-slate-700",children:(0,s.jsx)("nav",{className:"-mb-px flex space-x-8 px-6",children:N.map(e=>(0,s.jsxs)("button",{onClick:()=>g(e.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${u===e.id?"border-amber-500 text-amber-400":"border-transparent text-slate-400 hover:text-slate-200 hover:border-slate-400"}`,children:[e.icon,(0,s.jsx)("span",{children:e.label})]},e.id))})}),(0,s.jsxs)("div",{className:"p-6",children:["general"===u&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"General Settings"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"appName",className:"block text-sm font-medium text-slate-300",children:"Application Name"}),(0,s.jsx)("input",{type:"text",name:"appName",id:"appName",value:e.appName,onChange:p,className:"mt-1 block w-full rounded-md border-slate-700 bg-slate-900 text-white shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"adminEmail",className:"block text-sm font-medium text-slate-300",children:"Admin Email"}),(0,s.jsx)("input",{type:"email",name:"adminEmail",id:"adminEmail",value:e.adminEmail,onChange:p,className:"mt-1 block w-full rounded-md border-slate-700 bg-slate-900 text-white shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-slate-400",children:"Primary contact email for system notifications"})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",{id:"registrationEnabled",name:"registrationEnabled",type:"checkbox",checked:e.registrationEnabled,onChange:p,className:"h-4 w-4 rounded border-slate-700 bg-slate-900 text-amber-600 focus:ring-amber-500"})}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[(0,s.jsx)("label",{htmlFor:"registrationEnabled",className:"font-medium text-slate-300",children:"Allow New User Registrations"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Enable or disable user registration on the platform"})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",{id:"maintenanceMode",name:"maintenanceMode",type:"checkbox",checked:e.maintenanceMode,onChange:p,className:"h-4 w-4 rounded border-slate-700 bg-slate-900 text-amber-600 focus:ring-amber-500"})}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[(0,s.jsx)("label",{htmlFor:"maintenanceMode",className:"font-medium text-slate-300",children:"Maintenance Mode"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Put the application in maintenance mode"})]})]})]})]})}),"security"===u&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-white",children:"Security Settings"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"sessionTimeout",className:"block text-sm font-medium text-slate-300",children:"Session Timeout (minutes)"}),(0,s.jsx)("input",{type:"number",name:"sessionTimeout",id:"sessionTimeout",min:"1",value:e.sessionTimeout,onChange:p,className:"mt-1 block w-full rounded-md border-slate-700 bg-slate-900 text-white shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"maxLoginAttempts",className:"block text-sm font-medium text-slate-300",children:"Max Login Attempts"}),(0,s.jsx)("input",{type:"number",name:"maxLoginAttempts",id:"maxLoginAttempts",min:"1",value:e.maxLoginAttempts,onChange:p,className:"mt-1 block w-full rounded-md border-slate-700 bg-slate-900 text-white shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm"})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",{id:"enable2FA",name:"enable2FA",type:"checkbox",checked:e.enable2FA,onChange:p,className:"h-4 w-4 rounded border-slate-700 bg-slate-900 text-amber-600 focus:ring-amber-500"})}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[(0,s.jsx)("label",{htmlFor:"enable2FA",className:"font-medium text-slate-300",children:"Enable Two-Factor Authentication (2FA)"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Require users to enable 2FA for their accounts"})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",{id:"enableAuditLogs",name:"enableAuditLogs",type:"checkbox",checked:e.enableAuditLogs,onChange:p,className:"h-4 w-4 rounded border-slate-700 bg-slate-900 text-amber-600 focus:ring-amber-500"})}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[(0,s.jsx)("label",{htmlFor:"enableAuditLogs",className:"font-medium text-slate-300",children:"Enable Audit Logs"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Log all administrative actions for security and compliance"})]})]})]})]}),"notifications"===u&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-white",children:"Notification Settings"}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",{id:"emailNotifications",name:"emailNotifications",type:"checkbox",checked:e.emailNotifications,onChange:p,className:"h-4 w-4 rounded border-slate-700 bg-slate-900 text-amber-600 focus:ring-amber-500"})}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[(0,s.jsx)("label",{htmlFor:"emailNotifications",className:"font-medium text-slate-300",children:"Email Notifications"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Enable or disable email notifications for system events"})]})]})})]}),"email"===u&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-white",children:"Email Settings"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Email Server Status"}),(0,s.jsx)("div",{className:"mt-2 px-4 py-3 bg-slate-900 rounded-md text-sm",children:(0,s.jsxs)("span",{className:"inline-flex items-center",children:[(0,s.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 mr-2"}),(0,s.jsx)("span",{className:"text-slate-300",children:"Connected to SMTP server"})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"fromEmail",className:"block text-sm font-medium text-slate-300",children:"From Email Address"}),(0,s.jsx)("input",{type:"email",name:"fromEmail",id:"fromEmail",value:e.fromEmail,onChange:p,className:"mt-1 block w-full rounded-md border-slate-700 bg-slate-900 text-white shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-slate-400",children:"This email address will be used as the sender for all system emails"})]})]})]}),"backup"===u&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-white",children:"Backup & Restore"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"backupFrequency",className:"block text-sm font-medium text-slate-300",children:"Backup Frequency"}),(0,s.jsxs)("select",{id:"backupFrequency",name:"backupFrequency",value:e.backupFrequency,onChange:p,className:"mt-1 block w-full rounded-md border-slate-700 bg-slate-900 text-white shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm",children:[(0,s.jsx)("option",{value:"daily",children:"Daily"}),(0,s.jsx)("option",{value:"weekly",children:"Weekly"}),(0,s.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"dataRetentionDays",className:"block text-sm font-medium text-slate-300",children:"Data Retention (days)"}),(0,s.jsx)("input",{type:"number",name:"dataRetentionDays",id:"dataRetentionDays",min:"1",value:e.dataRetentionDays,onChange:p,className:"mt-1 block w-full rounded-md border-slate-700 bg-slate-900 text-white shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm"})]})]}),(0,s.jsx)("div",{className:"pt-4",children:(0,s.jsxs)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[(0,s.jsx)(n.Database,{className:"-ml-1 mr-2 h-4 w-4"}),"Create Manual Backup"]})})]})]})]})]})}e.s(["default",()=>x],50692)},71090,e=>{e.n(e.i(50692))}]);