(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88368,e=>{"use strict";let t,s;var a,r=e.i(82078);let i={data:""},l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,n=/\/\*[^]*?\*\/|  +/g,o=/\n+/g,c=(e,t)=>{let s="",a="",r="";for(let i in e){let l=e[i];"@"==i[0]?"i"==i[1]?s=i+" "+l+";":a+="f"==i[1]?c(l,i):i+"{"+c(l,"k"==i[1]?"":t)+"}":"object"==typeof l?a+=c(l,t?t.replace(/([^,])+/g,e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):i):null!=l&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=c.p?c.p(i,l):i+":"+l+";")}return s+(t&&r?t+"{"+r+"}":r)+a},d={},m=e=>{if("object"==typeof e){let t="";for(let s in e)t+=s+m(e[s]);return t}return e};function u(e){let t,s,a=this||{},r=e.call?e(a.p):e;return((e,t,s,a,r)=>{var i;let u=m(e),p=d[u]||(d[u]=(e=>{let t=0,s=11;for(;t<e.length;)s=101*s+e.charCodeAt(t++)>>>0;return"go"+s})(u));if(!d[p]){let t=u!==e?e:(e=>{let t,s,a=[{}];for(;t=l.exec(e.replace(n,""));)t[4]?a.shift():t[3]?(s=t[3].replace(o," ").trim(),a.unshift(a[0][s]=a[0][s]||{})):a[0][t[1]]=t[2].replace(o," ").trim();return a[0]})(e);d[p]=c(r?{["@keyframes "+p]:t}:t,s?"":"."+p)}let x=s&&d.g?d.g:null;return s&&(d.g=d[p]),i=d[p],x?t.data=t.data.replace(x,i):-1===t.data.indexOf(i)&&(t.data=a?i+t.data:t.data+i),p})(r.unshift?r.raw?(t=[].slice.call(arguments,1),s=a.p,r.reduce((e,a,r)=>{let i=t[r];if(i&&i.call){let e=i(s),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":c(e,""):!1===e?"":e}return e+a+(null==i?"":i)},"")):r.reduce((e,t)=>Object.assign(e,t&&t.call?t(a.p):t),{}):r,(e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||i})(a.target),a.g,a.o,a.k)}u.bind({g:1});let p,x,h,g=u.bind({k:1});function f(e,t){let s=this||{};return function(){let a=arguments;function r(i,l){let n=Object.assign({},i),o=n.className||r.className;s.p=Object.assign({theme:x&&x()},n),s.o=/ *go\d+/.test(o),n.className=u.apply(s,a)+(o?" "+o:""),t&&(n.ref=l);let c=e;return e[0]&&(c=n.as||e,delete n.as),h&&c[0]&&h(n),p(c,n)}return t?t(r):r}}var b=(e,t)=>"function"==typeof e?e(t):e,y=(t=0,()=>(++t).toString()),v=()=>{if(void 0===s&&"u">typeof window){let e=matchMedia("(prefers-reduced-motion: reduce)");s=!e||e.matches}return s},j="default",w=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:a}=t;return w(e,{type:+!!e.toasts.find(e=>e.id===a.id),toast:a});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+i}))}}},N=[],A={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},S={},k=(e,t=j)=>{S[t]=w(S[t]||A,e),N.forEach(([e,s])=>{e===t&&s(S[t])})},$=e=>Object.keys(S).forEach(t=>k(e,t)),U=(e=j)=>t=>{k(t,e)},C=e=>(t,s)=>{let a,r=((e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(null==s?void 0:s.id)||y()}))(t,e,s);return U(r.toasterId||(a=r.id,Object.keys(S).find(e=>S[e].toasts.some(e=>e.id===a))))({type:2,toast:r}),r.id},E=(e,t)=>C("blank")(e,t);E.error=C("error"),E.success=C("success"),E.loading=C("loading"),E.custom=C("custom"),E.dismiss=(e,t)=>{let s={type:3,toastId:e};t?U(t)(s):$(s)},E.dismissAll=e=>E.dismiss(void 0,e),E.remove=(e,t)=>{let s={type:4,toastId:e};t?U(t)(s):$(s)},E.removeAll=e=>E.remove(void 0,e),E.promise=(e,t,s)=>{let a=E.loading(t.loading,{...s,...null==s?void 0:s.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let r=t.success?b(t.success,e):void 0;return r?E.success(r,{id:a,...s,...null==s?void 0:s.success}):E.dismiss(a),e}).catch(e=>{let r=t.error?b(t.error,e):void 0;r?E.error(r,{id:a,...s,...null==s?void 0:s.error}):E.dismiss(a)}),e};var T=g`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,D=g`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,M=g`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,L=f("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${T} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${D} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${M} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,O=g`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,P=f("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${O} 1s linear infinite;
`,R=g`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,F=g`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,I=f("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${R} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${F} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,z=f("div")`
  position: absolute;
`,_=f("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,B=g`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,V=f("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${B} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,q=({toast:e})=>{let{icon:t,type:s,iconTheme:a}=e;return void 0!==t?"string"==typeof t?r.createElement(V,null,t):t:"blank"===s?null:r.createElement(_,null,r.createElement(P,{...a}),"loading"!==s&&r.createElement(z,null,"error"===s?r.createElement(L,{...a}):r.createElement(I,{...a})))},H=f("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,J=f("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`;r.memo(({toast:e,position:t,style:s,children:a})=>{let i=e.height?((e,t)=>{let s=e.includes("top")?1:-1,[a,r]=v()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[`
0% {transform: translate3d(0,${-200*s}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*s}%,-1px) scale(.6); opacity:0;}
`];return{animation:t?`${g(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${g(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},l=r.createElement(q,{toast:e}),n=r.createElement(J,{...e.ariaProps},b(e.message,e));return r.createElement(H,{className:e.className,style:{...i,...s,...e.style}},"function"==typeof a?a({icon:l,message:n}):r.createElement(r.Fragment,null,l,n))}),a=r.createElement,c.p=void 0,p=a,x=void 0,h=void 0,u`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,e.s(["default",()=>E,"toast",()=>E],88368)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},98919,e=>{"use strict";let t=(0,e.i(75254).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],98919)},43553,e=>{"use strict";let t=(0,e.i(75254).default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);e.s(["Crown",()=>t],43553)},82820,e=>{"use strict";var t=e.i(41195);e.i(75271);var s=e.i(5158);e.s(["alertsService",0,{async userRegistered(e,t,a="free"){let r={title:"New User Registration",message:`User ${t} has registered for a ${a} account and is awaiting email verification.`,type:"info",category:"user",status:"active",priority:"low",createdAt:(0,s.serverTimestamp)(),userId:e,metadata:{email:t,userType:a,action:"registration"}};return await this.create(r)},async failedLogin(e,t,a=1){let r={title:"Failed Login Attempts",message:`Multiple failed login attempts detected for ${e}${t?` from IP ${t}`:""}. ${a} failed attempts in the last hour.`,type:a>=5?"warning":"info",category:"security",status:"active",priority:a>=5?"high":a>=3?"medium":"low",createdAt:(0,s.serverTimestamp)(),metadata:{email:e,ipAddress:t,attemptCount:a,action:"failed_login"}};return await this.create(r)},async adminAction(e,t,a){let r={title:"Admin Action Performed",message:`Administrator ${e} performed: ${t}${a?` on ${a}`:""}`,type:"info",category:"system",status:"resolved",priority:"low",createdAt:(0,s.serverTimestamp)(),resolvedAt:(0,s.serverTimestamp)(),metadata:{adminEmail:e,action:t,target:a,actionType:"admin_action"}};return await this.create(r)},async performanceIssue(e,t,a,r="%"){let i={title:"Performance Alert",message:`${e} has reached ${t}${r}, exceeding threshold of ${a}${r}. System performance may be impacted.`,type:t>90?"critical":"warning",category:"performance",status:"active",priority:t>90?"critical":t>80?"high":"medium",createdAt:(0,s.serverTimestamp)(),metadata:{metric:e,value:t,threshold:a,unit:r,action:"performance"}};return await this.create(i)},async databaseError(e,t,a){let r={title:"Database Error",message:`Database operation failed: ${e}${a?` on collection ${a}`:""}. Error: ${t}`,type:"critical",category:"database",status:"active",priority:"critical",createdAt:(0,s.serverTimestamp)(),metadata:{operation:e,error:t,collection:a,action:"database_error"}};return await this.create(r)},async backupCompleted(e,t){let a={title:"Backup Completed Successfully",message:`System backup completed successfully. Size: ${e}, Duration: ${t} seconds.`,type:"success",category:"system",status:"resolved",priority:"low",createdAt:(0,s.serverTimestamp)(),resolvedAt:(0,s.serverTimestamp)(),metadata:{size:e,duration:t,action:"backup_complete"}};return await this.create(a)},async securityEvent(e,t){let a=e.includes("brute_force")||e.includes("suspicious")?"high":"medium",r={title:"Security Event Detected",message:`${e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}: ${JSON.stringify(t)}`,type:"warning",category:"security",status:"active",priority:a,createdAt:(0,s.serverTimestamp)(),metadata:{event:e,...t,action:"security_event"}};return await this.create(r)},async create(e){try{let a=await (0,s.addDoc)((0,s.collection)(t.db,"alerts"),e);return console.log("Alert created:",a.id),a.id}catch(e){throw console.error("Error creating alert:",e),e}},async getAll(e={}){try{let a=(0,s.query)((0,s.collection)(t.db,"alerts"));return a=e.userId?(0,s.query)(a,(0,s.where)("userId","==",e.userId),(0,s.orderBy)("createdAt","desc")):(0,s.query)(a,(0,s.orderBy)("createdAt","desc")),e.status&&(a=(0,s.query)(a,(0,s.where)("status","==",e.status))),e.type&&(a=(0,s.query)(a,(0,s.where)("type","==",e.type))),e.category&&(a=(0,s.query)(a,(0,s.where)("category","==",e.category))),e.limit&&(a=(0,s.query)(a,(0,s.limit)(e.limit))),(await (0,s.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error("Error fetching alerts:",e),[]}},async updateStatus(e,a,r){try{let i={status:a,updatedAt:(0,s.serverTimestamp)()};"acknowledged"===a&&r?(i.acknowledgedAt=(0,s.serverTimestamp)(),i.acknowledgedBy=r):"resolved"===a&&(i.resolvedAt=(0,s.serverTimestamp)()),await (0,s.updateDoc)((0,s.doc)(t.db,"alerts",e),i),console.log(`Alert ${e} status updated to ${a}`)}catch(e){throw console.error("Error updating alert status:",e),e}},async delete(e){try{await (0,s.deleteDoc)((0,s.doc)(t.db,"alerts",e)),console.log("Alert deleted:",e)}catch(e){throw console.error("Error deleting alert:",e),e}},async cleanupOldAlerts(){try{let e=new Date;e.setDate(e.getDate()-30);let a=(0,s.query)((0,s.collection)(t.db,"alerts"),(0,s.where)("status","==","resolved"),(0,s.where)("resolvedAt","<",s.Timestamp.fromDate(e)),(0,s.orderBy)("resolvedAt","desc")),r=(await (0,s.getDocs)(a)).docs.map(e=>(0,s.deleteDoc)(e.ref));return await Promise.all(r),console.log(`Cleaned up ${r.length} old alerts`),r.length}catch(e){return console.error("Error cleaning up old alerts:",e),0}}}])},70273,e=>{"use strict";let t=(0,e.i(75254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],70273)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},87130,e=>{"use strict";let t=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>t],87130)},25308,e=>{"use strict";e.i(11781);var t=e.i(50347),s=e.i(41195);e.s(["monitorAllUsersStatus",0,(e,a)=>{console.log("ðŸ‘€ [Presence] Setting up status monitor for all users");try{let r=(0,t.ref)(s.rtdb,"status"),i=(0,t.onChildAdded)(r,t=>{let s=t.key,a=t.val();console.log(`âž• [Presence] New user status detected - ${s}:`,a),s&&a&&e(s,a)},e=>{console.error("âŒ [Presence] Error in onChildAdded:",e),a?.(e)}),l=(0,t.onChildChanged)(r,t=>{let s=t.key,a=t.val();console.log(`ðŸ”„ [Presence] Status changed - ${s}:`,a),s&&a&&e(s,a)},e=>{console.error("âŒ [Presence] Error in onChildChanged:",e),a?.(e)}),n=(0,t.onChildRemoved)(r,t=>{let s=t.key;console.log(`âž– [Presence] User removed - ${s}`),s&&e(s,{state:"offline",last_changed:Date.now()})},e=>{console.error("âŒ [Presence] Error in onChildRemoved:",e),a?.(e)});return console.log("âœ… [Presence] All status monitors set up"),()=>{console.log("ðŸ§¹ [Presence] Cleaning up status monitor");try{i(),l(),n()}catch(e){console.error("âŒ [Presence] Error during monitor cleanup:",e)}}}catch(e){return console.error("âŒ [Presence] Error setting up status monitor:",e),a?.(e),()=>{}}}])},30645,e=>{"use strict";var t=e.i(52621),s=e.i(82078),a=e.i(2188),r=e.i(30945),i=e.i(25308),l=e.i(88368),n=e.i(55436),o=e.i(87130),c=e.i(3116),d=e.i(75254);let m=(0,d.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var u=e.i(84614);let p=(0,d.default)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),x=(0,d.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var h=e.i(98919),g=e.i(43553),f=e.i(70273),b=e.i(82820),y=e.i(69834);function v(){let{user:e}=(0,a.useAuth)(),[d,v]=(0,s.useState)([]),[j,w]=(0,s.useState)(!0),[N,A]=(0,s.useState)(""),[S,k]=(0,s.useState)(null),[$,U]=(0,s.useState)({}),[C,E]=(0,s.useState)(!1),[T,D]=(0,s.useState)(!1),[M,L]=(0,s.useState)("all"),[O,P]=(0,s.useState)("all"),[R,F]=(0,s.useState)("all");(0,s.useEffect)(()=>{console.log("ðŸ”„ [UserManagement] Setting up status monitoring...");let e=async()=>{try{console.log("ðŸ” [UserManagement] Starting RTDB presence monitoring setup...");let e=(0,i.monitorAllUsersStatus)((e,t)=>{console.log(`ðŸ‘¥ [UserManagement] RTDB Status update received - User ${e}:`,t);let s="online"===t.state&&Date.now()-t.last_changed<18e5;console.log(`ðŸ‘¥ [UserManagement] User ${e} online status:`,s,`(time diff: ${(Date.now()-t.last_changed)/1e3}s)`),U(t=>({...t,[e]:s}))},e=>{console.error("âŒ [UserManagement] RTDB presence monitoring ERROR:",e),console.warn("âš ï¸ [UserManagement] RTDB presence failed, showing all users as unknown:",e),U(e=>{let t={};return d.forEach(e=>{t[e.uid]=void 0}),t})});return console.log("âœ… [UserManagement] RTDB presence monitoring setup completed"),e}catch(e){return console.error("âŒ [UserManagement] RTDB presence setup failed:",e),console.warn("âš ï¸ [UserManagement] RTDB not available, showing unknown status:",e),U(e=>{let t={};return d.forEach(e=>{t[e.uid]=void 0}),t}),()=>{}}},t=(async()=>{let t=await e();return E(!0),t})();return()=>{t.then(e=>{console.log("ðŸ§¹ [UserManagement] Cleaning up status monitor"),e()})}},[d]),(0,s.useEffect)(()=>{C&&(console.log("ðŸ”„ [UserManagement] Presence initialized, loading users..."),I())},[C]),(0,s.useEffect)(()=>{console.log("ðŸ‘€ [UserManagement] Online status updated:",Object.keys($).length,"users")},[$]);let I=async()=>{try{w(!0),console.log("ðŸ” [UserManagement] Loading users...");let e=await r.usersService.getAll();console.log("ðŸ‘¥ [UserManagement] Loaded users:",e.map(e=>({id:e.id,uid:e.uid,email:e.email,displayName:e.displayName}))),v(e)}catch(e){console.error("Error loading users:",e),l.toast.error("Failed to load users")}finally{w(!1)}},z=d.filter(e=>e.email?.toLowerCase().includes(N.toLowerCase())||e.displayName?.toLowerCase().includes(N.toLowerCase())).filter(e=>"all"===M||"active"===M&&!e.disabled||"inactive"===M&&e.disabled).filter(e=>"all"===O||"verified"===O&&e.emailVerified||"unverified"===O&&!e.emailVerified).filter(e=>"all"===R||"admin"===R&&e.isAdmin||"user"===R&&!e.isAdmin),_=async(t,s)=>{try{await r.usersService.update(t,{isAdmin:!s}),v(d.map(e=>e.id===t?{...e,isAdmin:!s}:e));let a=s?"Demoted user to regular user":"Promoted user to admin";l.toast.success(`${a} successfully`);try{await b.alertsService.adminAction(e?.email||"Unknown Admin",a,t)}catch(e){console.warn("Failed to create role change alert:",e)}}catch(e){console.error("Error updating user role:",e),l.toast.error("Failed to update user role")}},B=async(t,s)=>{try{await r.usersService.update(t,{disabled:!s}),v(d.map(e=>e.id===t?{...e,disabled:!s}:e)),l.toast.success(`User ${s?"activated":"deactivated"} successfully`);try{await b.alertsService.adminAction(e?.email||"Unknown Admin",s?"Deactivated user account":"Activated user account",t)}catch(e){console.warn("Failed to create status change alert:",e)}}catch(e){console.error("Error updating user status:",e),l.toast.error("Failed to update user status")}},V=async(t,s)=>{console.log("ðŸ”„ [updateUserSubscription] Starting update:",{userId:t,newTier:s,selectedUser:S});try{console.log("ðŸ“ [updateUserSubscription] Getting plans...");let a=(await y.subscriptionService.getPlans()).find(e=>e.tier===s);if(!a)throw Error(`Plan not found for tier: ${s}`);console.log("ðŸ“ [updateUserSubscription] Found target plan:",a.id,a.tier);let i=await y.subscriptionService.getUserSubscription(t);console.log("ðŸ“ [updateUserSubscription] Existing subscription:",i?.id,i?.status),i?(console.log("ðŸ“ [updateUserSubscription] Updating existing subscription..."),await y.subscriptionService.updateSubscription(t,i.id,{planId:a.id})):(console.log("ðŸ“ [updateUserSubscription] Creating new subscription..."),await y.subscriptionService.createSubscription(t,{planId:a.id})),console.log("ðŸ“ [updateUserSubscription] Updating user profile..."),await r.usersService.updateTier(t,s),console.log("âœ… [updateUserSubscription] Database update successful"),console.log("ðŸ”„ [updateUserSubscription] Updating local state..."),v(d.map(e=>e.id===t?{...e,subscriptionTier:s,subscription:{...e.subscription,tier:s,status:"active",updatedAt:new Date},features:({free:{maxCards:2,maxTransactions:100,analytics:!1,export:!1,prioritySupport:!1,apiAccess:!1,teamManagement:!1,customIntegrations:!1},pro:{maxCards:10,maxTransactions:1e3,analytics:!0,export:!0,prioritySupport:!1,apiAccess:!1,teamManagement:!1,customIntegrations:!1},enterprise:{maxCards:50,maxTransactions:1e4,analytics:!0,export:!0,prioritySupport:!0,apiAccess:!0,teamManagement:!0,customIntegrations:!0}})[s]}:e)),console.log("âœ… [updateUserSubscription] Local state updated");let n={free:"Free",pro:"Pro",enterprise:"Enterprise"};if(console.log("ðŸ”” [updateUserSubscription] Showing success toast"),l.toast.success(`User subscription updated to ${n[s]} tier`),t===e?.uid){console.log("ðŸ”„ [updateUserSubscription] Force refreshing subscription context...");try{localStorage.removeItem("subscription_cache"),sessionStorage.removeItem("subscription_cache"),window.location.reload()}catch(e){console.warn("Could not force refresh, falling back to regular reload"),window.location.reload()}}k(null);try{await b.alertsService.adminAction(e?.email||"Unknown Admin",`Changed user subscription to ${n[s]}`,t)}catch(e){console.warn("Failed to create subscription change alert:",e)}console.log("ðŸŽ‰ [updateUserSubscription] Update completed successfully")}catch(e){console.error("âŒ [updateUserSubscription] Error updating user subscription:",e),l.toast.error("Failed to update user subscription")}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-serif text-slate-100",children:"User Management"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Manage all registered users and their permissions"}),(0,t.jsxs)("div",{className:"mt-2 text-xs text-slate-500",children:["Presence: âœ… RTDB Active (Real-time presence monitoring) | Online: ",Object.values($).filter(e=>!0===e).length," | Offline: ",Object.values($).filter(e=>!1===e).length," | Unknown: ",Object.keys($).length-Object.values($).filter(e=>void 0!==e).length]})]}),(0,t.jsxs)("div",{className:"w-full sm:w-auto flex gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1 sm:w-64",children:[(0,t.jsx)(n.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500"}),(0,t.jsx)("input",{type:"text",placeholder:"Search users...",className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-700 rounded-md text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",value:N,onChange:e=>A(e.target.value)})]}),(0,t.jsx)("button",{onClick:()=>{console.log("ðŸ”„ [UserManagement] Manual presence refresh triggered"),E(!1),setTimeout(()=>E(!0),100)},className:"px-3 py-2 text-xs rounded-md bg-slate-800 hover:bg-slate-700 text-slate-300 transition-colors",title:"Refresh presence status",children:"ðŸ”„ Refresh Status"}),(0,t.jsxs)("button",{onClick:()=>D(!T),className:`px-3 py-2 rounded-md text-slate-300 flex items-center gap-2 transition-colors ${T?"bg-slate-700":"bg-slate-800 hover:bg-slate-700 border border-slate-700"}`,children:[(0,t.jsx)(o.Filter,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Filter"}),("all"!==M||"all"!==O||"all"!==R)&&(0,t.jsx)("span",{className:"ml-1 inline-flex items-center justify-center h-4 w-4 rounded-full bg-amber-600 text-xs",children:"!"})]})]})]}),T&&(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Account Status"}),(0,t.jsxs)("select",{value:M,onChange:e=>L(e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-slate-200 text-sm rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"active",children:"Active Only"}),(0,t.jsx)("option",{value:"inactive",children:"Inactive Only"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email Verification"}),(0,t.jsxs)("select",{value:O,onChange:e=>P(e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-slate-200 text-sm rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[(0,t.jsx)("option",{value:"all",children:"All Users"}),(0,t.jsx)("option",{value:"verified",children:"Verified Only"}),(0,t.jsx)("option",{value:"unverified",children:"Unverified Only"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"User Role"}),(0,t.jsxs)("select",{value:R,onChange:e=>F(e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-slate-200 text-sm rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[(0,t.jsx)("option",{value:"all",children:"All Roles"}),(0,t.jsx)("option",{value:"admin",children:"Admins Only"}),(0,t.jsx)("option",{value:"user",children:"Users Only"})]})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"text-sm text-slate-400",children:["Showing ",z.length," of ",d.length," users"]}),(0,t.jsx)("button",{onClick:()=>{L("all"),P("all"),F("all")},className:"text-sm text-amber-400 hover:text-amber-300",children:"Clear Filters"})]})]}),(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg overflow-hidden",children:j?(0,t.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-amber-500"})}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-slate-800",children:[(0,t.jsx)("thead",{className:"bg-slate-900/50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"User"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Subscription"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Role"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Last Active"}),(0,t.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,t.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-800",children:z.length>0?z.map(e=>(0,t.jsxs)("tr",{className:`hover:bg-slate-800/50 ${$[e.uid]?"ring-1 ring-green-500/30":""}`,children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("div",{className:"relative shrink-0",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-slate-700 flex items-center justify-center",children:(0,t.jsx)(u.User,{className:"h-5 w-5 text-slate-300"})}),(0,t.jsx)("div",{className:`absolute -bottom-1 -right-1 h-3 w-3 rounded-full border-2 border-slate-800 ${void 0===$[e.uid]?"bg-gray-500":$[e.uid]?"bg-green-500":"bg-slate-500"}`})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-slate-200",children:e.displayName||"No Name"}),(0,t.jsx)("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${void 0===$[e.uid]?"bg-gray-900/30 text-gray-400":$[e.uid]?"bg-green-900/30 text-green-400":"bg-slate-700/50 text-slate-400"}`,children:void 0===$[e.uid]?"Unknown":$[e.uid]?"Online":"Offline"})]}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:e.email})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:`h-2 w-2 rounded-full mr-2 ${void 0===$[e.uid]?"bg-gray-500":$[e.uid]?"bg-green-400":"bg-slate-500"}`}),(0,t.jsx)("span",{className:"text-sm text-slate-300",children:void 0===$[e.uid]?"Unknown":$[e.uid]?"Online":"Offline"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:`h-2 w-2 rounded-full mr-2 ${e.emailVerified?"bg-green-400":"bg-yellow-400"}`}),(0,t.jsx)("span",{className:"text-sm text-slate-300",children:e.emailVerified?"Email Verified":"Email Pending"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:`h-2 w-2 rounded-full mr-2 ${e.disabled?"bg-red-400":"bg-blue-400"}`}),(0,t.jsx)("span",{className:"text-sm text-slate-300",children:e.disabled?"Account Inactive":"Account Active"})]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-400",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[("free"===e.subscriptionTier||!e.subscriptionTier)&&(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-900/30 text-gray-400",children:[(0,t.jsx)(u.User,{className:"h-3 w-3 mr-1"}),"Free"]}),"pro"===e.subscriptionTier&&(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900/30 text-blue-400",children:[(0,t.jsx)(f.Star,{className:"h-3 w-3 mr-1"}),"Pro"]}),"enterprise"===e.subscriptionTier&&(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-900/30 text-amber-400",children:[(0,t.jsx)(g.Crown,{className:"h-3 w-3 mr-1"}),"Enterprise"]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-400",children:(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e.isAdmin?"bg-blue-900/30 text-blue-400":"bg-slate-800/50 text-slate-400"}`,children:e.isAdmin?"Admin":"User"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"flex flex-col",children:e.lastActive?(0,t.jsxs)("div",{className:"flex flex-col space-y-0.5",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-slate-200",children:new Date(e.lastActive).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}),(0,t.jsx)("span",{className:"mx-1 text-slate-500",children:"â€¢"}),(0,t.jsx)("span",{className:"text-sm text-slate-400",children:new Date(e.lastActive).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),(0,t.jsxs)("div",{className:"flex items-center text-xs text-slate-500",title:`Last active: ${new Date(e.lastActive).toLocaleString()}`,children:[(0,t.jsx)(c.Clock,{className:"h-3 w-3 mr-1"}),(e=>{if(!e)return"Never";let t=new Date(e);if(isNaN(t.getTime()))return"Never";let s=Math.floor((new Date().getTime()-t.getTime())/1e3);return s<60?"Just now":s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:s<604800?`${Math.floor(s/86400)}d ago`:s<2592e3?`${Math.floor(s/604800)}w ago`:s<31536e3?`${Math.floor(s/2592e3)}mo ago`:`${Math.floor(s/31536e3)}y ago`})(e.lastActive)]})]}):(0,t.jsxs)("div",{className:"flex flex-col items-start",children:[(0,t.jsx)("span",{className:"text-sm text-slate-400",children:"Never"}),(0,t.jsx)("span",{className:"text-xs text-slate-500",children:"No activity recorded"})]})})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,t.jsxs)("div",{className:"flex justify-end items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>k(e),className:"text-amber-400 hover:text-amber-300",title:"View Details",children:(0,t.jsx)(m,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>_(e.id,e.isAdmin||!1),className:e.isAdmin?"text-blue-400 hover:text-slate-400":"text-slate-400 hover:text-blue-400",title:e.isAdmin?"Demote to User":"Promote to Admin",children:(0,t.jsx)(h.Shield,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>B(e.id,!e.disabled),className:e.disabled?"text-green-400 hover:text-green-300":"text-red-400 hover:text-red-300",title:e.disabled?"Activate User":"Deactivate User",children:e.disabled?(0,t.jsx)(p,{className:"h-4 w-4"}):(0,t.jsx)(x,{className:"h-4 w-4"})})]})})]},e.uid)):(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-400",children:[(0,t.jsx)(u.User,{className:"h-12 w-12 mx-auto text-slate-600 mb-2"}),(0,t.jsx)("p",{children:"No users found"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Try adjusting your search or filter criteria"})]})})})]})})}),S&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-lg w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-slate-100",children:"User Details"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Manage user account and permissions"})]}),(0,t.jsx)("button",{onClick:()=>k(null),className:"text-slate-400 hover:text-slate-200",children:(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"h-16 w-16 bg-slate-800 rounded-full flex items-center justify-center",children:(0,t.jsx)(u.User,{className:"h-8 w-8 text-amber-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-medium text-slate-100",children:S.displayName||"No Name"}),(0,t.jsx)("p",{className:"text-slate-400",children:S.email}),(0,t.jsxs)("div",{className:"flex items-center mt-1",children:[(0,t.jsx)("span",{className:`px-2 py-0.5 text-xs rounded-full ${S.emailVerified?"bg-green-900/30 text-green-400":"bg-yellow-900/30 text-yellow-400"}`,children:S.emailVerified?"Email Verified":"Email Not Verified"}),S.isAdmin&&(0,t.jsxs)("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-blue-900/30 text-blue-400 flex items-center",children:[(0,t.jsx)(h.Shield,{className:"h-3 w-3 mr-1"}),"Admin"]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[(0,t.jsx)("h5",{className:"text-sm font-medium text-slate-400 mb-2",children:"Account Information"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Status:"})," ",(0,t.jsx)("span",{className:"text-slate-300",children:S.emailVerified?"Verified":"Not Verified"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Member Since"}),(0,t.jsx)("p",{className:"text-slate-200",children:S.createdAt?new Date(S.createdAt).toLocaleDateString():"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Last Active"}),(0,t.jsx)("p",{className:"text-slate-200",children:S.lastActive?new Date(S.lastActive).toLocaleString():"Never"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[(0,t.jsx)("h5",{className:"text-sm font-medium text-slate-400 mb-2",children:"Subscription Management"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Current Tier:"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[("free"===S.subscriptionTier||!S.subscriptionTier)&&(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-900/30 text-gray-400",children:[(0,t.jsx)(u.User,{className:"h-3 w-3 mr-1"}),"Free"]}),"pro"===S.subscriptionTier&&(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-900/30 text-blue-400",children:[(0,t.jsx)(f.Star,{className:"h-3 w-3 mr-1"}),"Pro"]}),"enterprise"===S.subscriptionTier&&(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-amber-900/30 text-amber-400",children:[(0,t.jsx)(g.Crown,{className:"h-3 w-3 mr-1"}),"Enterprise"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 xs:grid-cols-3 gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{S&&V(S.id,"free")},className:`flex items-center justify-center px-3 py-2 border rounded-md text-sm font-medium transition-colors ${S?.subscriptionTier==="free"||!S?.subscriptionTier?"bg-gray-600 text-white border-gray-600":"border-gray-600 text-gray-400 hover:bg-gray-600/20"}`,children:[(0,t.jsx)(u.User,{className:"h-4 w-4 xs:mr-1"}),(0,t.jsx)("span",{className:"hidden xs:inline",children:"Free"})]}),(0,t.jsxs)("button",{onClick:()=>{S&&V(S.id,"pro")},className:`flex items-center justify-center px-3 py-2 border rounded-md text-sm font-medium transition-colors ${S?.subscriptionTier==="pro"?"bg-blue-600 text-white border-blue-600":"border-blue-600 text-blue-400 hover:bg-blue-600/20"}`,children:[(0,t.jsx)(f.Star,{className:"h-4 w-4 xs:mr-1"}),(0,t.jsx)("span",{className:"hidden xs:inline",children:"Pro"})]}),(0,t.jsxs)("button",{onClick:()=>{S&&V(S.id,"enterprise")},className:`flex items-center justify-center px-3 py-2 border rounded-md text-sm font-medium transition-colors ${S?.subscriptionTier==="enterprise"?"bg-amber-600 text-white border-amber-600":"border-amber-600 text-amber-400 hover:bg-amber-600/20"}`,children:[(0,t.jsx)(g.Crown,{className:"h-4 w-4 xs:mr-1"}),(0,t.jsx)("span",{className:"hidden xs:inline",children:"Enterprise"})]})]})]})]})]})]})]}),(0,t.jsx)("div",{className:"bg-slate-800/50 px-6 py-3 flex justify-end space-x-3",children:(0,t.jsx)("button",{type:"button",onClick:()=>k(null),className:"px-4 py-2 text-sm font-medium text-slate-300 hover:text-white",children:"Close"})})]})})]})}e.s(["default",()=>v],30645)},86750,e=>{e.n(e.i(30645))}]);