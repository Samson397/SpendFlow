(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84614,e=>{"use strict";let s=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>s],84614)},70273,e=>{"use strict";let s=(0,e.i(75254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>s],70273)},55436,e=>{"use strict";let s=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>s],55436)},87130,e=>{"use strict";let s=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>s],87130)},25308,e=>{"use strict";e.i(11781);var s=e.i(50347),t=e.i(41195);e.s(["monitorAllUsersStatus",0,(e,a)=>{console.log("ğŸ‘€ [Presence] Setting up status monitor for all users");try{let r=(0,s.ref)(t.rtdb,"status"),l=(0,s.onChildAdded)(r,s=>{let t=s.key,a=s.val();console.log(`â• [Presence] New user status detected - ${t}:`,a),t&&a&&e(t,a)},e=>{console.error("âŒ [Presence] Error in onChildAdded:",e),a?.(e)}),i=(0,s.onChildChanged)(r,s=>{let t=s.key,a=s.val();console.log(`ğŸ”„ [Presence] Status changed - ${t}:`,a),t&&a&&e(t,a)},e=>{console.error("âŒ [Presence] Error in onChildChanged:",e),a?.(e)}),n=(0,s.onChildRemoved)(r,s=>{let t=s.key;console.log(`â– [Presence] User removed - ${t}`),t&&e(t,{state:"offline",last_changed:Date.now()})},e=>{console.error("âŒ [Presence] Error in onChildRemoved:",e),a?.(e)});return console.log("âœ… [Presence] All status monitors set up"),()=>{console.log("ğŸ§¹ [Presence] Cleaning up status monitor");try{l(),i(),n()}catch(e){console.error("âŒ [Presence] Error during monitor cleanup:",e)}}}catch(e){return console.error("âŒ [Presence] Error setting up status monitor:",e),a?.(e),()=>{}}}])},30645,e=>{"use strict";var s=e.i(52621),t=e.i(82078),a=e.i(2188),r=e.i(30945),l=e.i(25308),i=e.i(88368),n=e.i(55436),c=e.i(87130),o=e.i(3116),d=e.i(75254);let m=(0,d.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var x=e.i(84614);let u=(0,d.default)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),p=(0,d.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var h=e.i(98919),g=e.i(43553),f=e.i(70273),b=e.i(82820),j=e.i(69834);function v(){let{user:e}=(0,a.useAuth)(),[d,v]=(0,t.useState)([]),[N,y]=(0,t.useState)(!0),[w,S]=(0,t.useState)(""),[U,A]=(0,t.useState)(null),[k,C]=(0,t.useState)({}),[M,T]=(0,t.useState)(!1),[E,$]=(0,t.useState)(!1),[D,P]=(0,t.useState)("all"),[L,O]=(0,t.useState)("all"),[R,F]=(0,t.useState)("all");(0,t.useEffect)(()=>{console.log("ğŸ”„ [UserManagement] Setting up status monitoring...");let e=async()=>{try{console.log("ğŸ” [UserManagement] Starting RTDB presence monitoring setup...");let e=(0,l.monitorAllUsersStatus)((e,s)=>{console.log(`ğŸ‘¥ [UserManagement] RTDB Status update received - User ${e}:`,s);let t="online"===s.state&&Date.now()-s.last_changed<18e5;console.log(`ğŸ‘¥ [UserManagement] User ${e} online status:`,t,`(time diff: ${(Date.now()-s.last_changed)/1e3}s)`),C(s=>({...s,[e]:t}))},e=>{console.error("âŒ [UserManagement] RTDB presence monitoring ERROR:",e),console.warn("âš ï¸ [UserManagement] RTDB presence failed, showing all users as unknown:",e),C(e=>{let s={};return d.forEach(e=>{s[e.uid]=void 0}),s})});return console.log("âœ… [UserManagement] RTDB presence monitoring setup completed"),e}catch(e){return console.error("âŒ [UserManagement] RTDB presence setup failed:",e),console.warn("âš ï¸ [UserManagement] RTDB not available, showing unknown status:",e),C(e=>{let s={};return d.forEach(e=>{s[e.uid]=void 0}),s}),()=>{}}},s=(async()=>{let s=await e();return T(!0),s})();return()=>{s.then(e=>{console.log("ğŸ§¹ [UserManagement] Cleaning up status monitor"),e()})}},[d]),(0,t.useEffect)(()=>{M&&(console.log("ğŸ”„ [UserManagement] Presence initialized, loading users..."),V())},[M]),(0,t.useEffect)(()=>{console.log("ğŸ‘€ [UserManagement] Online status updated:",Object.keys(k).length,"users")},[k]);let V=async()=>{try{y(!0),console.log("ğŸ” [UserManagement] Loading users...");let e=await r.usersService.getAll();console.log("ğŸ‘¥ [UserManagement] Loaded users:",e.map(e=>({id:e.id,uid:e.uid,email:e.email,displayName:e.displayName}))),v(e)}catch(e){console.error("Error loading users:",e),i.toast.error("Failed to load users")}finally{y(!1)}},B=d.filter(e=>e.email?.toLowerCase().includes(w.toLowerCase())||e.displayName?.toLowerCase().includes(w.toLowerCase())).filter(e=>"all"===D||"active"===D&&!e.disabled||"inactive"===D&&e.disabled).filter(e=>"all"===L||"verified"===L&&e.emailVerified||"unverified"===L&&!e.emailVerified).filter(e=>"all"===R||"admin"===R&&e.isAdmin||"user"===R&&!e.isAdmin),I=async(s,t)=>{try{await r.usersService.update(s,{isAdmin:!t}),v(d.map(e=>e.id===s?{...e,isAdmin:!t}:e));let a=t?"Demoted user to regular user":"Promoted user to admin";i.toast.success(`${a} successfully`);try{await b.alertsService.adminAction(e?.email||"Unknown Admin",a,s)}catch(e){console.warn("Failed to create role change alert:",e)}}catch(e){console.error("Error updating user role:",e),i.toast.error("Failed to update user role")}},z=async(s,t)=>{try{await r.usersService.update(s,{disabled:!t}),v(d.map(e=>e.id===s?{...e,disabled:!t}:e)),i.toast.success(`User ${t?"activated":"deactivated"} successfully`);try{await b.alertsService.adminAction(e?.email||"Unknown Admin",t?"Deactivated user account":"Activated user account",s)}catch(e){console.warn("Failed to create status change alert:",e)}}catch(e){console.error("Error updating user status:",e),i.toast.error("Failed to update user status")}},_=async(s,t)=>{console.log("ğŸ”„ [updateUserSubscription] Starting update:",{userId:s,newTier:t,selectedUser:U});try{console.log("ğŸ“ [updateUserSubscription] Getting plans...");let a=(await j.subscriptionService.getPlans()).find(e=>e.tier===t);if(!a)throw Error(`Plan not found for tier: ${t}`);console.log("ğŸ“ [updateUserSubscription] Found target plan:",a.id,a.tier);let l=await j.subscriptionService.getUserSubscription(s);console.log("ğŸ“ [updateUserSubscription] Existing subscription:",l?.id,l?.status),l?(console.log("ğŸ“ [updateUserSubscription] Updating existing subscription..."),await j.subscriptionService.updateSubscription(s,l.id,{planId:a.id})):(console.log("ğŸ“ [updateUserSubscription] Creating new subscription..."),await j.subscriptionService.createSubscription(s,{planId:a.id})),console.log("ğŸ“ [updateUserSubscription] Updating user profile..."),await r.usersService.updateTier(s,t),console.log("âœ… [updateUserSubscription] Database update successful"),console.log("ğŸ”„ [updateUserSubscription] Updating local state..."),v(d.map(e=>e.id===s?{...e,subscriptionTier:t,subscription:{...e.subscription,tier:t,status:"active",updatedAt:new Date},features:({free:{maxCards:2,maxTransactions:100,analytics:!1,export:!1,prioritySupport:!1,apiAccess:!1,teamManagement:!1,customIntegrations:!1},pro:{maxCards:10,maxTransactions:1e3,analytics:!0,export:!0,prioritySupport:!1,apiAccess:!1,teamManagement:!1,customIntegrations:!1},enterprise:{maxCards:50,maxTransactions:1e4,analytics:!0,export:!0,prioritySupport:!0,apiAccess:!0,teamManagement:!0,customIntegrations:!0}})[t]}:e)),console.log("âœ… [updateUserSubscription] Local state updated");let n={free:"Free",pro:"Pro",enterprise:"Enterprise"};if(console.log("ğŸ”” [updateUserSubscription] Showing success toast"),i.toast.success(`User subscription updated to ${n[t]} tier`),s===e?.uid){console.log("ğŸ”„ [updateUserSubscription] Force refreshing subscription context...");try{localStorage.removeItem("subscription_cache"),sessionStorage.removeItem("subscription_cache"),window.location.reload()}catch(e){console.warn("Could not force refresh, falling back to regular reload"),window.location.reload()}}A(null);try{await b.alertsService.adminAction(e?.email||"Unknown Admin",`Changed user subscription to ${n[t]}`,s)}catch(e){console.warn("Failed to create subscription change alert:",e)}console.log("ğŸ‰ [updateUserSubscription] Update completed successfully")}catch(e){console.error("âŒ [updateUserSubscription] Error updating user subscription:",e),i.toast.error("Failed to update user subscription")}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-serif text-slate-100",children:"User Management"}),(0,s.jsx)("p",{className:"text-slate-400 text-sm",children:"Manage all registered users and their permissions"}),(0,s.jsxs)("div",{className:"mt-2 text-xs text-slate-500",children:["Presence: âœ… RTDB Active (Real-time presence monitoring) | Online: ",Object.values(k).filter(e=>!0===e).length," | Offline: ",Object.values(k).filter(e=>!1===e).length," | Unknown: ",Object.keys(k).length-Object.values(k).filter(e=>void 0!==e).length]})]}),(0,s.jsxs)("div",{className:"w-full sm:w-auto flex gap-2",children:[(0,s.jsxs)("div",{className:"relative flex-1 sm:w-64",children:[(0,s.jsx)(n.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500"}),(0,s.jsx)("input",{type:"text",placeholder:"Search users...",className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-700 rounded-md text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",value:w,onChange:e=>S(e.target.value)})]}),(0,s.jsx)("button",{onClick:()=>{console.log("ğŸ”„ [UserManagement] Manual presence refresh triggered"),T(!1),setTimeout(()=>T(!0),100)},className:"px-3 py-2 text-xs rounded-md bg-slate-800 hover:bg-slate-700 text-slate-300 transition-colors",title:"Refresh presence status",children:"ğŸ”„ Refresh Status"}),(0,s.jsxs)("button",{onClick:()=>$(!E),className:`px-3 py-2 rounded-md text-slate-300 flex items-center gap-2 transition-colors ${E?"bg-slate-700":"bg-slate-800 hover:bg-slate-700 border border-slate-700"}`,children:[(0,s.jsx)(c.Filter,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Filter"}),("all"!==D||"all"!==L||"all"!==R)&&(0,s.jsx)("span",{className:"ml-1 inline-flex items-center justify-center h-4 w-4 rounded-full bg-amber-600 text-xs",children:"!"})]})]})]}),E&&(0,s.jsxs)("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Account Status"}),(0,s.jsxs)("select",{value:D,onChange:e=>P(e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-slate-200 text-sm rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"active",children:"Active Only"}),(0,s.jsx)("option",{value:"inactive",children:"Inactive Only"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email Verification"}),(0,s.jsxs)("select",{value:L,onChange:e=>O(e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-slate-200 text-sm rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[(0,s.jsx)("option",{value:"all",children:"All Users"}),(0,s.jsx)("option",{value:"verified",children:"Verified Only"}),(0,s.jsx)("option",{value:"unverified",children:"Unverified Only"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"User Role"}),(0,s.jsxs)("select",{value:R,onChange:e=>F(e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-slate-200 text-sm rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[(0,s.jsx)("option",{value:"all",children:"All Roles"}),(0,s.jsx)("option",{value:"admin",children:"Admins Only"}),(0,s.jsx)("option",{value:"user",children:"Users Only"})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,s.jsxs)("span",{className:"text-sm text-slate-400",children:["Showing ",B.length," of ",d.length," users"]}),(0,s.jsx)("button",{onClick:()=>{P("all"),O("all"),F("all")},className:"text-sm text-amber-400 hover:text-amber-300",children:"Clear Filters"})]})]}),(0,s.jsx)("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg overflow-hidden",children:N?(0,s.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-amber-500"})}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-slate-800",children:[(0,s.jsx)("thead",{className:"bg-slate-900/50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"User"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Subscription"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Role"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Last Active"}),(0,s.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,s.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-slate-800",children:B.length>0?B.map(e=>(0,s.jsxs)("tr",{className:`hover:bg-slate-800/50 ${k[e.uid]?"ring-1 ring-green-500/30":""}`,children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("div",{className:"relative shrink-0",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-slate-700 flex items-center justify-center",children:(0,s.jsx)(x.User,{className:"h-5 w-5 text-slate-300"})}),(0,s.jsx)("div",{className:`absolute -bottom-1 -right-1 h-3 w-3 rounded-full border-2 border-slate-800 ${void 0===k[e.uid]?"bg-gray-500":k[e.uid]?"bg-green-500":"bg-slate-500"}`})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-slate-200",children:e.displayName||"No Name"}),(0,s.jsx)("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${void 0===k[e.uid]?"bg-gray-900/30 text-gray-400":k[e.uid]?"bg-green-900/30 text-green-400":"bg-slate-700/50 text-slate-400"}`,children:void 0===k[e.uid]?"Unknown":k[e.uid]?"Online":"Offline"})]}),(0,s.jsx)("div",{className:"text-sm text-slate-400",children:e.email})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:`h-2 w-2 rounded-full mr-2 ${void 0===k[e.uid]?"bg-gray-500":k[e.uid]?"bg-green-400":"bg-slate-500"}`}),(0,s.jsx)("span",{className:"text-sm text-slate-300",children:void 0===k[e.uid]?"Unknown":k[e.uid]?"Online":"Offline"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:`h-2 w-2 rounded-full mr-2 ${e.emailVerified?"bg-green-400":"bg-yellow-400"}`}),(0,s.jsx)("span",{className:"text-sm text-slate-300",children:e.emailVerified?"Email Verified":"Email Pending"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:`h-2 w-2 rounded-full mr-2 ${e.disabled?"bg-red-400":"bg-blue-400"}`}),(0,s.jsx)("span",{className:"text-sm text-slate-300",children:e.disabled?"Account Inactive":"Account Active"})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-400",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[("free"===e.subscriptionTier||!e.subscriptionTier)&&(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-900/30 text-gray-400",children:[(0,s.jsx)(x.User,{className:"h-3 w-3 mr-1"}),"Free"]}),"pro"===e.subscriptionTier&&(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900/30 text-blue-400",children:[(0,s.jsx)(f.Star,{className:"h-3 w-3 mr-1"}),"Pro"]}),"enterprise"===e.subscriptionTier&&(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-900/30 text-amber-400",children:[(0,s.jsx)(g.Crown,{className:"h-3 w-3 mr-1"}),"Enterprise"]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-400",children:(0,s.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e.isAdmin?"bg-blue-900/30 text-blue-400":"bg-slate-800/50 text-slate-400"}`,children:e.isAdmin?"Admin":"User"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"flex flex-col",children:e.lastActive?(0,s.jsxs)("div",{className:"flex flex-col space-y-0.5",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-200",children:new Date(e.lastActive).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}),(0,s.jsx)("span",{className:"mx-1 text-slate-500",children:"â€¢"}),(0,s.jsx)("span",{className:"text-sm text-slate-400",children:new Date(e.lastActive).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),(0,s.jsxs)("div",{className:"flex items-center text-xs text-slate-500",title:`Last active: ${new Date(e.lastActive).toLocaleString()}`,children:[(0,s.jsx)(o.Clock,{className:"h-3 w-3 mr-1"}),(e=>{if(!e)return"Never";let s=new Date(e);if(isNaN(s.getTime()))return"Never";let t=Math.floor((new Date().getTime()-s.getTime())/1e3);return t<60?"Just now":t<3600?`${Math.floor(t/60)}m ago`:t<86400?`${Math.floor(t/3600)}h ago`:t<604800?`${Math.floor(t/86400)}d ago`:t<2592e3?`${Math.floor(t/604800)}w ago`:t<31536e3?`${Math.floor(t/2592e3)}mo ago`:`${Math.floor(t/31536e3)}y ago`})(e.lastActive)]})]}):(0,s.jsxs)("div",{className:"flex flex-col items-start",children:[(0,s.jsx)("span",{className:"text-sm text-slate-400",children:"Never"}),(0,s.jsx)("span",{className:"text-xs text-slate-500",children:"No activity recorded"})]})})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex justify-end items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>A(e),className:"text-amber-400 hover:text-amber-300",title:"View Details",children:(0,s.jsx)(m,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>I(e.id,e.isAdmin||!1),className:e.isAdmin?"text-blue-400 hover:text-slate-400":"text-slate-400 hover:text-blue-400",title:e.isAdmin?"Demote to User":"Promote to Admin",children:(0,s.jsx)(h.Shield,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>z(e.id,!e.disabled),className:e.disabled?"text-green-400 hover:text-green-300":"text-red-400 hover:text-red-300",title:e.disabled?"Activate User":"Deactivate User",children:e.disabled?(0,s.jsx)(u,{className:"h-4 w-4"}):(0,s.jsx)(p,{className:"h-4 w-4"})})]})})]},e.uid)):(0,s.jsx)("tr",{children:(0,s.jsxs)("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-400",children:[(0,s.jsx)(x.User,{className:"h-12 w-12 mx-auto text-slate-600 mb-2"}),(0,s.jsx)("p",{children:"No users found"}),(0,s.jsx)("p",{className:"text-sm mt-1",children:"Try adjusting your search or filter criteria"})]})})})]})})}),U&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-lg w-full max-w-2xl",children:[(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-slate-100",children:"User Details"}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:"Manage user account and permissions"})]}),(0,s.jsx)("button",{onClick:()=>A(null),className:"text-slate-400 hover:text-slate-200",children:(0,s.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"h-16 w-16 bg-slate-800 rounded-full flex items-center justify-center",children:(0,s.jsx)(x.User,{className:"h-8 w-8 text-amber-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-lg font-medium text-slate-100",children:U.displayName||"No Name"}),(0,s.jsx)("p",{className:"text-slate-400",children:U.email}),(0,s.jsxs)("div",{className:"flex items-center mt-1",children:[(0,s.jsx)("span",{className:`px-2 py-0.5 text-xs rounded-full ${U.emailVerified?"bg-green-900/30 text-green-400":"bg-yellow-900/30 text-yellow-400"}`,children:U.emailVerified?"Email Verified":"Email Not Verified"}),U.isAdmin&&(0,s.jsxs)("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-blue-900/30 text-blue-400 flex items-center",children:[(0,s.jsx)(h.Shield,{className:"h-3 w-3 mr-1"}),"Admin"]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[(0,s.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-slate-400 mb-2",children:"Account Information"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("span",{className:"text-slate-500",children:"Status:"})," ",(0,s.jsx)("span",{className:"text-slate-300",children:U.emailVerified?"Verified":"Not Verified"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Member Since"}),(0,s.jsx)("p",{className:"text-slate-200",children:U.createdAt?new Date(U.createdAt).toLocaleDateString():"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Last Active"}),(0,s.jsx)("p",{className:"text-slate-200",children:U.lastActive?new Date(U.lastActive).toLocaleString():"Never"})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-slate-400 mb-2",children:"Subscription Management"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,s.jsx)("span",{className:"text-slate-300",children:"Current Tier:"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[("free"===U.subscriptionTier||!U.subscriptionTier)&&(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-900/30 text-gray-400",children:[(0,s.jsx)(x.User,{className:"h-3 w-3 mr-1"}),"Free"]}),"pro"===U.subscriptionTier&&(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-900/30 text-blue-400",children:[(0,s.jsx)(f.Star,{className:"h-3 w-3 mr-1"}),"Pro"]}),"enterprise"===U.subscriptionTier&&(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-amber-900/30 text-amber-400",children:[(0,s.jsx)(g.Crown,{className:"h-3 w-3 mr-1"}),"Enterprise"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 xs:grid-cols-3 gap-2",children:[(0,s.jsxs)("button",{onClick:()=>{U&&_(U.id,"free")},className:`flex items-center justify-center px-3 py-2 border rounded-md text-sm font-medium transition-colors ${U?.subscriptionTier==="free"||!U?.subscriptionTier?"bg-gray-600 text-white border-gray-600":"border-gray-600 text-gray-400 hover:bg-gray-600/20"}`,children:[(0,s.jsx)(x.User,{className:"h-4 w-4 xs:mr-1"}),(0,s.jsx)("span",{className:"hidden xs:inline",children:"Free"})]}),(0,s.jsxs)("button",{onClick:()=>{U&&_(U.id,"pro")},className:`flex items-center justify-center px-3 py-2 border rounded-md text-sm font-medium transition-colors ${U?.subscriptionTier==="pro"?"bg-blue-600 text-white border-blue-600":"border-blue-600 text-blue-400 hover:bg-blue-600/20"}`,children:[(0,s.jsx)(f.Star,{className:"h-4 w-4 xs:mr-1"}),(0,s.jsx)("span",{className:"hidden xs:inline",children:"Pro"})]}),(0,s.jsxs)("button",{onClick:()=>{U&&_(U.id,"enterprise")},className:`flex items-center justify-center px-3 py-2 border rounded-md text-sm font-medium transition-colors ${U?.subscriptionTier==="enterprise"?"bg-amber-600 text-white border-amber-600":"border-amber-600 text-amber-400 hover:bg-amber-600/20"}`,children:[(0,s.jsx)(g.Crown,{className:"h-4 w-4 xs:mr-1"}),(0,s.jsx)("span",{className:"hidden xs:inline",children:"Enterprise"})]})]})]})]})]})]})]}),(0,s.jsx)("div",{className:"bg-slate-800/50 px-6 py-3 flex justify-end space-x-3",children:(0,s.jsx)("button",{type:"button",onClick:()=>A(null),className:"px-4 py-2 text-sm font-medium text-slate-300 hover:text-white",children:"Close"})})]})})]})}e.s(["default",()=>v],30645)},86750,e=>{e.n(e.i(30645))}]);