(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20976,(e,s,t)=>{s.exports=e.r(59536)},2440,e=>{"use strict";var s=e.i(52621),t=e.i(82078),r=e.i(2188);e.i(75271);var a=e.i(5158),l=e.i(41195),i=e.i(20976);function n(){let{user:e}=(0,r.useAuth)(),n=(0,i.useRouter)(),[d,o]=(0,t.useState)(!1),[c,m]=(0,t.useState)(""),b=[..."spendflowapp@gmail.com".split(",")||[]].filter(Boolean),x=e&&e.email&&b.includes(e.email),u=async()=>{if(!e)return void m("❌ You must be logged in");if(!x)return void m("❌ You are not authorized to perform admin setup");try{o(!0),m("Setting up admin access..."),await (0,a.setDoc)((0,a.doc)(l.db,"users",e.uid),{isAdmin:!0},{merge:!0}),m("✅ Success! You are now an admin. Redirecting..."),setTimeout(()=>{n.push("/admin")},2e3)}catch(e){m(`❌ Error: ${e.message||"Unknown error"}`)}finally{o(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 px-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-slate-800 border border-slate-700 p-8 rounded-lg",children:[(0,s.jsx)("h1",{className:"text-3xl font-serif text-slate-100 mb-4 text-center tracking-wide",children:"Admin Setup"}),e?x?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-slate-900 p-4 rounded border border-slate-700",children:[(0,s.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Current User:"}),(0,s.jsx)("p",{className:"text-slate-200 font-mono text-sm break-all",children:e.email})]}),(0,s.jsx)("button",{onClick:u,disabled:d,className:"w-full py-3 px-4 border border-amber-600 text-amber-400 bg-amber-900/10 hover:bg-amber-600/20 font-serif tracking-wider transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Setting up...":"Make Me Admin"}),c&&(0,s.jsx)("div",{className:`p-4 rounded border ${c.includes("✅")?"bg-green-900/20 border-green-700/30 text-green-400":c.includes("❌")?"bg-red-900/20 border-red-700/30 text-red-400":"bg-slate-900/50 border-slate-700 text-slate-400"}`,children:(0,s.jsx)("p",{className:"text-sm",children:c})})]}):(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m0 4h.01M12 5.373l7.071 7.071a2 2 0 010 2.828l-7.071 7.071a2 2 0 01-2.828 0L2.929 14.9a2 2 0 010-2.828l7.071-7.071a2 2 0 012.828 0z"})})}),(0,s.jsx)("h2",{className:"text-xl font-bold text-red-400 mb-2",children:"Access Denied"}),(0,s.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"You don't have permission to access admin setup. Only authorized administrators can perform this action."}),(0,s.jsxs)("div",{className:"bg-slate-900 p-4 rounded border border-slate-700",children:[(0,s.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Current User:"}),(0,s.jsx)("p",{className:"text-slate-200 font-mono text-sm break-all",children:e.email})]}),(0,s.jsx)("button",{onClick:()=>n.push("/dashboard"),className:"w-full py-3 px-4 border border-slate-600 text-slate-400 bg-slate-800 hover:bg-slate-700 font-serif tracking-wider transition-all",children:"Return to Dashboard"})]}):(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-slate-400 mb-4",children:"Please sign in first"}),(0,s.jsx)("button",{onClick:()=>n.push("/login"),className:"px-6 py-2 border border-amber-600 text-amber-400 bg-amber-900/10 hover:bg-amber-600/20 font-serif tracking-wider transition-all",children:"Go to Login"})]})]})})}e.s(["default",()=>n])}]);