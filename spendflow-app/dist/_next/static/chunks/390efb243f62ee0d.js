(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20976,(e,t,r)=>{t.exports=e.r(59536)},14548,e=>{"use strict";var t=e.i(52621),r=e.i(82078),s=e.i(10176),a=e.i(44491),i=e.i(1570);let n=(0,a.cva)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef(({className:e,variant:r,size:a,asChild:o=!1,...l},d)=>{let c=o?s.Slot:"button";return(0,t.jsx)(c,{className:(0,i.cn)(n({variant:r,size:a,className:e})),ref:d,...l})});o.displayName="Button",e.s(["Button",()=>o])},33611,e=>{"use strict";e.s(["DEFAULT_SUBSCRIPTION_PLANS",0,[{name:"free",displayName:"Essential",tier:"free",price:0,currency:"usd",interval:"month",description:"Perfect for getting started with personal finance tracking",isPopular:!1,isActive:!0,limits:{maxCards:2,maxTransactions:10,analytics:!1,export:!1,prioritySupport:!1,apiAccess:!1,teamManagement:!1,customIntegrations:!1},features:[{id:"cards",name:"Up to 2 cards",included:!0,limit:2},{id:"transactions",name:"Up to 10 transactions",included:!0,limit:10},{id:"analytics",name:"Basic analytics",included:!1},{id:"export",name:"Data export",included:!1},{id:"support",name:"Community support",included:!0}]},{name:"pro_monthly",displayName:"Professional",tier:"pro",price:499,currency:"usd",interval:"month",description:"Advanced features for serious money managers",isPopular:!0,isActive:!0,stripePriceId:"price_1SP7L7GsAhzrVtbVkArpTnhk",limits:{maxCards:5,maxTransactions:-1,analytics:!0,export:!0,prioritySupport:!1,apiAccess:!1,teamManagement:!1,customIntegrations:!1},features:[{id:"cards",name:"Up to 5 cards",included:!0,limit:5},{id:"transactions",name:"Unlimited transactions",included:!0},{id:"analytics",name:"Advanced analytics",included:!0},{id:"export",name:"Data export (CSV/PDF)",included:!0},{id:"support",name:"Email support",included:!0},{id:"sync",name:"Multi-device sync",included:!0}]},{name:"enterprise_monthly",displayName:"Enterprise",tier:"enterprise",price:999,currency:"usd",interval:"month",description:"Complete solution for businesses and power users",isPopular:!1,isActive:!0,stripePriceId:"price_1SP7LbGsAhzrVtbV7MV22lr5",limits:{maxCards:-1,maxTransactions:-1,analytics:!0,export:!0,prioritySupport:!0,apiAccess:!0,teamManagement:!0,customIntegrations:!0},features:[{id:"cards",name:"Unlimited cards",included:!0},{id:"transactions",name:"Unlimited transactions",included:!0},{id:"analytics",name:"Advanced analytics & insights",included:!0},{id:"export",name:"Custom reports & export",included:!0},{id:"support",name:"Priority phone & email support",included:!0},{id:"api",name:"API access",included:!0},{id:"team",name:"Team collaboration",included:!0},{id:"integrations",name:"Custom integrations",included:!0},{id:"manager",name:"Dedicated account manager",included:!0}]}]])},33024,e=>{"use strict";var t=e.i(15525),r=e.i(52621),s=e.i(82078),a=e.i(20976);e.i(75271);var i=e.i(5158),n=e.i(41195),o=e.i(33611),l=e.i(14548),d=e.i(2188);function c(){let e=(0,a.useRouter)(),{user:c}=(0,d.useAuth)(),[m,u]=(0,s.useState)(!0),[x,h]=(0,s.useState)([]),[p,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let r="true"===t.default.env.NEXT_PUBLIC_SETUP_MODE,s=c?.email&&("spendflowapp@gmail.com".split(",")||[]).includes(c.email);r||s?b():e.push("/")},[e,c]);let b=async()=>{try{let e=(0,i.collection)(n.db,"subscriptionPlans"),t=(0,i.query)(e,(0,i.where)("isActive","==",!0)),r=(await (0,i.getDocs)(t)).docs.map(e=>({id:e.id,...e.data()}));h(r)}catch(e){console.error("Error checking plans:",e)}finally{u(!1)}},f=async()=>{g(!0);try{let e=(0,i.collection)(n.db,"subscriptionPlans");for(let t of o.DEFAULT_SUBSCRIPTION_PLANS){let r=(0,i.query)(e,(0,i.where)("name","==",t.name),(0,i.where)("tier","==",t.tier));if(!(await (0,i.getDocs)(r)).empty){console.log(`Plan "${t.displayName}" already exists, skipping...`);continue}let s=await (0,i.addDoc)(e,{...t,createdAt:new Date,updatedAt:new Date});console.log(`Created plan: ${t.displayName} (${s.id})`)}await b(),alert("âœ… Database seeded successfully! You can now use the subscription system.")}catch(e){console.error("Error seeding database:",e),alert("âŒ Error seeding database: "+e.message)}finally{g(!1)}};return m?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-linear-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsxs)("svg",{className:"w-8 h-8 text-white animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,r.jsx)("div",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Loading Setup..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-linear-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:[(0,r.jsx)("nav",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"SpendFlow Setup"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("a",{href:"/subscription",className:"px-4 py-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Subscription â†’"}),(0,r.jsx)("a",{href:"/dashboard",className:"px-4 py-2 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300 font-medium",children:"Dashboard â†’"})]})]})})}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto p-8",children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-20 h-20 bg-linear-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,r.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Database Setup"}),(0,r.jsx)("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Set up your subscription system by seeding the database with default plans. This is required before you can use the subscription features."})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center gap-3",children:[(0,r.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Current Database Status"]}),0===x.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,r.jsx)("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"No Plans Found"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Your database needs to be seeded with subscription plans before you can use the subscription system."})]}):(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsx)("div",{className:"grid gap-4",children:x.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:`w-3 h-3 rounded-full ${"free"===e.tier?"bg-gray-400":"pro"===e.tier?"bg-blue-500":"bg-purple-500"}`}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.displayName}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[e.tier," plan"]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:0===e.price?"Free":`$${(e.price/100).toFixed(2)}/${e.interval}`}),(0,r.jsx)("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Active"})]})]},e.id))})})]}),0===x.length&&(0,r.jsx)("div",{className:"bg-linear-to-r from-blue-500 to-indigo-600 rounded-xl shadow-lg p-8 text-white",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Ready to Set Up"}),(0,r.jsx)("p",{className:"text-blue-100 mb-8 max-w-2xl mx-auto",children:"This will create 3 subscription plans: Essential (Free), Professional ($4.99/month), and Enterprise ($9.99/month). These plans are required for the subscription system to work properly."}),(0,r.jsx)(l.Button,{onClick:f,disabled:p,className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 text-lg font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-200",children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"w-5 h-5 animate-spin mr-3",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Setting Up Database..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Set Up Subscription Plans"]})})]})}),x.length>0&&(0,r.jsx)("div",{className:"bg-linear-to-r from-green-500 to-emerald-600 rounded-xl shadow-lg p-8 text-white",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"ðŸŽ‰ Setup Complete!"}),(0,r.jsx)("p",{className:"text-green-100 mb-8 max-w-2xl mx-auto",children:"Your database has been successfully seeded with subscription plans. You can now use all the subscription features in your SpendFlow app."}),(0,r.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,r.jsx)(l.Button,{asChild:!0,className:"bg-white text-green-600 hover:bg-gray-100",children:(0,r.jsxs)("a",{href:"/subscription",className:"inline-flex items-center gap-2 px-6 py-3",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a.997.997 0 01-1.414 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"View Subscription Plans"]})}),(0,r.jsx)(l.Button,{asChild:!0,variant:"outline",className:"border-white text-white hover:bg-white hover:text-green-600",children:(0,r.jsxs)("a",{href:"/dashboard",className:"inline-flex items-center gap-2 px-6 py-3",children:[(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v0M8 5a2 2 0 012-2h4a2 2 0 012 2v0"})]}),"Go to Dashboard"]})})]})]})})]})})]})}e.s(["default",()=>c])}]);